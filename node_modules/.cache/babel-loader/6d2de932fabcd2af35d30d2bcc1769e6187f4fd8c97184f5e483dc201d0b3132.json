{"ast":null,"code":"var _jsxFileName = \"/Users/sahidalam/Developer/Cohort_3.0/WebDev/Class/Week16-Websockets/websocket-2-chatApp-FE/chatApp_fe/src/components/ChatInterface.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport MessageList from './MessageList';\nimport ChatHeader from './ChatHeader';\nimport ChatInput from './ChatInput';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatInterface = ({\n  messages,\n  connectionStatus,\n  currentUser,\n  onSendMessage,\n  onLeaveRoom\n}) => {\n  _s();\n  const [inputValue, setInputValue] = useState('');\n  const messagesEndRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const handleSendMessage = () => {\n    if (inputValue.trim() && connectionStatus === 'connected') {\n      onSendMessage(inputValue.trim());\n      setInputValue('');\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen flex flex-col bg-dark-bg\",\n    children: [/*#__PURE__*/_jsxDEV(ChatHeader, {\n      roomCode: currentUser.room,\n      connectionStatus: connectionStatus,\n      onLeaveRoom: onLeaveRoom,\n      userCount: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(MessageList, {\n        messages: messages,\n        currentUserName: currentUser.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border-t border-dark-border\",\n      children: /*#__PURE__*/_jsxDEV(ChatInput, {\n        value: inputValue,\n        onChange: setInputValue,\n        onSend: handleSendMessage,\n        onKeyPress: handleKeyPress,\n        disabled: connectionStatus !== 'connected',\n        placeholder: connectionStatus === 'connected' ? 'Type your message...' : 'Connecting...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatInterface, \"+MWy2mHkWkfnD1LneYgJtGWXtTA=\");\n_c = ChatInterface;\nexport default ChatInterface;\nvar _c;\n$RefreshReg$(_c, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useRef","useEffect","MessageList","ChatHeader","ChatInput","jsxDEV","_jsxDEV","ChatInterface","messages","connectionStatus","currentUser","onSendMessage","onLeaveRoom","_s","inputValue","setInputValue","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","handleKeyPress","e","key","shiftKey","preventDefault","className","children","roomCode","room","userCount","fileName","_jsxFileName","lineNumber","columnNumber","currentUserName","name","ref","value","onChange","onSend","onKeyPress","disabled","placeholder","_c","$RefreshReg$"],"sources":["/Users/sahidalam/Developer/Cohort_3.0/WebDev/Class/Week16-Websockets/websocket-2-chatApp-FE/chatApp_fe/src/components/ChatInterface.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Message, User, ConnectionStatus } from '../types/chat';\nimport MessageList from './MessageList';\nimport ChatHeader from './ChatHeader';\nimport ChatInput from './ChatInput';\n\ninterface ChatInterfaceProps {\n  messages: Message[];\n  connectionStatus: ConnectionStatus;\n  currentUser: User;\n  onSendMessage: (text: string) => void;\n  onLeaveRoom: () => void;\n}\n\nconst ChatInterface: React.FC<ChatInterfaceProps> = ({\n  messages,\n  connectionStatus,\n  currentUser,\n  onSendMessage,\n  onLeaveRoom\n}) => {\n  const [inputValue, setInputValue] = useState('');\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSendMessage = () => {\n    if (inputValue.trim() && connectionStatus === 'connected') {\n      onSendMessage(inputValue.trim());\n      setInputValue('');\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  return (\n    <div className=\"h-screen flex flex-col bg-dark-bg\">\n      {/* Header */}\n      <ChatHeader\n        roomCode={currentUser.room}\n        connectionStatus={connectionStatus}\n        onLeaveRoom={onLeaveRoom}\n        userCount={1}\n      />\n\n      {/* Messages Area */}\n      <div className=\"flex-1 overflow-hidden\">\n        <MessageList\n          messages={messages}\n          currentUserName={currentUser.name}\n        />\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Input Area */}\n      <div className=\"p-4 border-t border-dark-border\">\n        <ChatInput\n          value={inputValue}\n          onChange={setInputValue}\n          onSend={handleSendMessage}\n          onKeyPress={handleKeyPress}\n          disabled={connectionStatus !== 'connected'}\n          placeholder={\n            connectionStatus === 'connected'\n              ? 'Type your message...'\n              : 'Connecting...'\n          }\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ChatInterface; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}